import{r as c,u as f,j as e,I as N,c as _,f as b,M as k,a as l,g as m,s as w,b as C,d as E}from"./index-d66e8e7d.js";const L="_page_xf38e_1",F={page:L},u={},M=()=>{const s=["A to Z","Z to A","Less than 10$","Greater than 10$","Popular","Not popular","Show all"],[a,n]=c.useState(!1),[t,r]=c.useState("A to Z"),i=c.useRef(null),d=f(),p=o=>d(b(o)),x=()=>{n(!a)},v=o=>{r(o),n(!1),p(o)},j=o=>{i.current&&!i.current.contains(o.target)&&x()};return c.useEffect(()=>(document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)})),e.jsxs("div",{children:[e.jsx("p",{children:"Filters"}),e.jsxs("button",{className:u.dropdown,onClick:x,children:[t,e.jsx(N,{id:"arrow-down",className:u.icon})]}),a&&e.jsx("ul",{ref:i,children:s.map((o,g)=>e.jsx("li",{className:_(u.option,`${t===o?u.active:""}`),onClick:()=>v(o),children:o},g))})]})},O=s=>s.nannies.items,S=s=>s.nannies.lastKey,R=s=>s.nannies.message,$=s=>s.filter.filter,h={},A=({name:s,avatar:a})=>e.jsxs("div",{children:[e.jsx("p",{children:s}),e.jsx("img",{src:a,alt:s})]}),I=({reviews:s,avatar:a,name:n})=>{const[t,r]=c.useState(!1);return e.jsxs("div",{children:[e.jsx("ul",{children:s.map(i=>{})}),e.jsx("button",{type:"button",onClick:()=>r(!0),children:"Make an appointment"}),t&&e.jsx(k,{isOpen:t,onClose:()=>r(!1),children:e.jsx(A,{name:n,avatar:a})})]})},Z=({nanny:s})=>{const[a,n]=c.useState(!1);return e.jsxs("div",{children:[e.jsxs("div",{className:h.imageWrapper,children:[e.jsx("img",{src:"",alt:""}),e.jsx("div",{})]}),e.jsxs("div",{className:h.infoWrapper,children:[e.jsx("div",{className:h.header}),e.jsx("ul",{}),e.jsx("p",{className:h.description,children:s.about})]}),a?e.jsx(I,{reviews:s.reviews,avatar:s.avatar_url,name:s.name}):e.jsx("button",{type:"button",onClick:()=>n(!0),children:"Read more"})]})},y=(s,a)=>{let n=[...s];switch(a){case"A to Z":n.sort((t,r)=>t.name.localeCompare(r.name));break;case"Z to A":n.sort((t,r)=>r.name.localeCompare(t.name));break;case"Less than 10$":n=s.filter(t=>t.price_per_hour<10).sort((t,r)=>r.price_per_hour-t.price_per_hour);break;case"Greater than 10$":n=s.filter(t=>t.price_per_hour>10).sort((t,r)=>t.price_per_hour-r.price_per_hour);break;case"Popular":n.sort((t,r)=>r.rating-t.rating);break;case"Not popular":n.sort((t,r)=>t.rating-r.rating);break}return n},K=()=>{const s=f(),a=l(O),n=l($),t=l(S),r=l(R);c.useEffect(()=>{s(m({limit:3}))},[s]),console.log(a);const i=()=>{s(m({limit:3,lastKey:t}))},d=y(a,n);return e.jsx(e.Fragment,{children:d.length>0?e.jsxs("div",{children:[e.jsx("ul",{children:d.map(p=>e.jsx("li",{children:e.jsx(Z,{nanny:p})},p.id))}),r||d===0?e.jsx("p",{children:r}):e.jsx("button",{type:"button",onClick:i,children:"Load more"})]}):e.jsx("p",{children:"No nannies to show"})})},D=()=>e.jsx("div",{children:"Error"}),P=()=>{const s=l(w),a=l(C);return e.jsxs("div",{className:F.container,children:[s&&e.jsx(E,{}),a&&e.jsx(D,{}),e.jsxs("div",{children:[e.jsx(M,{}),e.jsx(K,{})]})]})};export{P as default};
