import{r as d,u as f,j as e,I as _,c as v,f as b,a as o,g as j,s as k,b as E,d as L}from"./index-51353e65.js";const w="_page_xf38e_1",F={page:w},u={},C=()=>{const s=["A to Z","Z to A","Less than 10$","Greater than 10$","Popular","Not popular","Show all"],[c,n]=d.useState(!1),[t,r]=d.useState("A to Z"),i=d.useRef(null),l=f(),p=a=>l(b(a)),x=()=>{n(!c)},g=a=>{r(a),n(!1),p(a)},m=a=>{i.current&&!i.current.contains(a.target)&&x()};return d.useEffect(()=>(document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)})),e.jsxs("div",{children:[e.jsx("p",{children:"Filters"}),e.jsxs("button",{className:u.dropdown,onClick:x,children:[t,e.jsx(_,{id:"arrow-down",className:u.icon})]}),c&&e.jsx("ul",{ref:i,children:s.map((a,N)=>e.jsx("li",{className:v(u.option,`${t===a?u.active:""}`),onClick:()=>g(a),children:a},N))})]})},$=s=>s.nannies.items,S=s=>s.nannies.lastKey,y=s=>s.nannies.message,A=s=>s.filter.filter,h={},Z=({nanny:s})=>e.jsxs("div",{children:[e.jsxs("div",{className:h.imageWrapper,children:[e.jsx("img",{src:"",alt:""}),e.jsx("div",{})]}),e.jsxs("div",{className:h.infoWrapper,children:[e.jsx("div",{className:h.header}),e.jsx("ul",{}),e.jsx("p",{className:h.description,children:s.about})]}),e.jsx("button",{type:"button",children:"Read more"})]}),I=(s,c)=>{let n=[...s];switch(c){case"A to Z":n.sort((t,r)=>t.name.localeCompare(r.name));break;case"Z to A":n.sort((t,r)=>r.name.localeCompare(t.name));break;case"Less than 10$":n=s.filter(t=>t.price_per_hour<10).sort((t,r)=>r.price_per_hour-t.price_per_hour);break;case"Greater than 10$":n=s.filter(t=>t.price_per_hour>10).sort((t,r)=>t.price_per_hour-r.price_per_hour);break;case"Popular":n.sort((t,r)=>r.rating-t.rating);break;case"Not popular":n.sort((t,r)=>t.rating-r.rating);break}return n},O=()=>{const s=f(),c=o($),n=o(A),t=o(S),r=o(y);d.useEffect(()=>{s(j({limit:3}))},[s]),console.log(c);const i=()=>{s(j({limit:3,lastKey:t}))},l=I(c,n);return e.jsx(e.Fragment,{children:l.length>0?e.jsxs("div",{children:[e.jsx("ul",{children:l.map(p=>e.jsx("li",{children:e.jsx(Z,{nanny:p})},p.id))}),r||l===0?e.jsx("p",{children:r}):e.jsx("button",{type:"button",onClick:i,children:"Load more"})]}):e.jsx("p",{children:"No nannies to show"})})},R=()=>e.jsx("div",{children:"Error"}),D=()=>{const s=o(k),c=o(E);return e.jsxs("div",{className:F.container,children:[s&&e.jsx(L,{}),c&&e.jsx(R,{}),e.jsxs("div",{children:[e.jsx(C,{}),e.jsx(O,{})]})]})};export{D as default};
